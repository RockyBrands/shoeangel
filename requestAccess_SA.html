<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="Request Access to Shoe Angel Account">
    <title>Shoe Angel Request Access</title>
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    <style>
    body{margin:0;background:linear-gradient(rgba(245,245,245,.8),rgba(245,245,245,.8)),url(https://raw.githubusercontent.com/RockyBrands/shoeangel/master/img/shoeAngel-form.jpg);background-size:cover;font-family:'Roboto',sans-serif}h1{position:relative;color:#fff;opacity:0;transition:.8s ease-in-out}h3{position:absolute;color:#fff;opacity:0;margin-top:30px;font-size:.8rem;transition:.8s ease-in-out}a{position:absolute;color:#fff;opacity:0;margin-top:50px;font-size:.8rem;transition:.8s ease-in-out}a:hover{color:#f2a900}#progress{position:absolute;background:linear-gradient(rgba(0,87,187,.8),rgba(0,87,187,.8)),url(https://raw.githubusercontent.com/RockyBrands/shoeangel/master/img/shoeAngel-form.jpg);background-size:cover;height:100vh;width:0;transition:width 0.2s ease-in-out}.center{height:100vh;display:flex;justify-content:center;align-items:center}#register{background:#fff;position:relative;width:410px;padding:20px 35px 20px 35px;box-shadow:0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12),0 8px 10px -5px rgba(0,0,0,.3);transition:transform .1s ease-in-out}#register.close{width:0;padding:0;overflow:hidden;transition:.8s ease-in-out;box-shadow:0 16px 24px 2px rgba(0,0,0,0)}.next{position:absolute;right:20px;bottom:105px;font-size:40px;color:#0057bb;float:right;cursor:pointer}.next:hover{color:#333}.wrong .next{color:#ff2d26}.close .next{color:#fff}#inputContainer{position:relative;opacity:0;width:350px;margin-top:25px;transition:opacity .3s ease-in-out}#inputContainer input{width:100%;padding:0 5px;border:none;font-size:20px;font-weight:700;outline:0;background:transparent;box-shadow:none}#inputLabel{position:absolute;pointer-events:none;top:0;left:0;font-size:20px;font-weight:700;padding:0 5px;transition:.2s ease-in-out}#inputContainer input:valid + #inputLabel{top:-15px;font-size:11px;font-weight:400;color:#9e9e9e}#inputProgress{position:absolute;border-bottom:2px solid #0057bb;padding:3px 0;width:0;transition:width .6s ease-in-out}.wrong #inputProgress{border-color:#ff2d26}.sa-logo{width:200px;z-index:9999}.centerLogo{text-align:center}.gdpr{padding-top:15px}p{font-size:12px;color:#0057bb}
    @-moz-document url-prefix() {
  h3{position:absolute;color:#fff;opacity:0;margin-top:60px;font-size:.8rem;transition:.8s ease-in-out}
  a{position:absolute;color:#fff;opacity:0;margin-top:80px;font-size:.8rem;transition:.8s ease-in-out}
    }
  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
    h3{position:absolute;color:#fff;opacity:0;margin-top:30px;margin-left:-235px;font-size:.8rem;transition:.8s ease-in-out}
    a{position:absolute;color:#fff;opacity:0;margin-top:50px;margin-left:-135px;font-size:.8rem;transition:.8s ease-in-out}
}
@supports (-ms-ime-align: auto) {
  h3{position:absolute;color:#fff;opacity:0;margin-top:75px;font-size:.8rem;transition:.8s ease-in-out}
    a{position:absolute;color:#fff;opacity:0;margin-top:100px;font-size:.8rem;transition:.8s ease-in-out}
}
    </style>
</head>
<body>
    <!-- START INNER HTML -->
    <div id="progress" role="main"></div>
        <div class="center" role="contentinfo">
            <div id="register" role="group">
                <div class="centerLogo" role="img">   
                    <img class="sa-logo" alt="Shoe Angel Logo" src="https://cdn2.hubspot.net/hubfs/4392020/Shoe%20Angel/sa_2x.png">
                    <div>
                        <p>
                            Please answer the following questions to request<br>access to your Shoe Angel account.
                        </p>
                    </div>
                </div>
                <i id="progressButton" class="ion-android-arrow-forward next"></i>
                <div id="inputContainer" role="region">
                    <input id="inputField" aria-label="Required Information" required autofocus />
                        <label id="inputLabel"></label>
                        <div id="inputProgress" role="article"></div>
                </div>
                <div class="gdpr" role="radio">
                    <div style="font-size:11px; margin-top:15px;vertical-align:top;" role="checkbox">
                        <input name="chk1" aria-label="Agree to communication" type="checkbox" id="chk1" checked="checked" style="vertical-align: middle;">&nbsp;&nbsp;&nbsp;I agree to receive communications from Shoe Angel.
                    </div>
            <div style="font-size:11px; margin-top:15px; margin-bottom:20px;vertical-align:top;" role="checkbox">
                    <input name="chk2" aria-label="Agree to process data" type="checkbox" id="chk2" checked="checked" style="vertical-align: middle;">&nbsp;&nbsp;&nbsp;I agree to allow Shoe Angel to store and process my data. 
                        </div>
                    </div>
      </div>
    </div>
    <!-- END INNER HTML -->

    <script>
    var questions = [
  {question:"What's your first name?"},
  {question:"What's your last name?"},
  {question:"What's your email?", pattern: /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/}
]

;(function(){
  var tTime = 100;
  var wTime = 200;
  var eTime = 1000;
  var position = 0;
  putQuestion();
  progressButton.addEventListener('click', validate);
  inputField.addEventListener('keyup', function(e){
    transform(0, 0); // ie hack to redraw
    if(e.keyCode == 13) validate();
  })
  // Load next question
  function putQuestion() {
    inputLabel.innerHTML = questions[position].question;
    inputField.value = '';
    inputField.type = questions[position].type || 'text';
    inputField.focus();
    showCurrent();
  }
  // Start when all questions are answered
  function done() {
    // Delete logo and gdpr notice before closing the box. Using
    // hidden/absolute so values can still post in browsers
    document.getElementsByClassName('centerLogo')[0].style.visibility = 'hidden';
    document.getElementsByClassName('centerLogo')[0].style.position = 'absolute';
    document.getElementsByClassName('gdpr')[0].style.visibility = 'hidden';
    document.getElementsByClassName('gdpr')[0].style.position = 'absolute';
    register.className = 'close';

    // Add the h1, h3, and a at the end with the welcome text
    var h1 = document.createElement('h1');
    var h3 = document.createElement('h3');
    var a = document.createElement('a');
    h1.appendChild(document.createTextNode('Welcome ' + questions[0].value + '!'));
    h3.appendChild(document.createTextNode('Check your email for further instructions.'));

    // Create proper attributes for a Go Back link
    var hashSymbol = document.createAttribute("href");
    var goBack = document.createAttribute("onclick");
    hashSymbol.value ="#";
    goBack.value = "history.go(-1)";
    a.setAttributeNode(hashSymbol);
    a.setAttributeNode(goBack);
    a.appendChild(document.createTextNode('Go Back'));

    setTimeout(function() {
      register.parentElement.appendChild(h1);
      register.parentElement.appendChild(h3);
      register.parentElement.appendChild(a);
      setTimeout(function() {h1.style.opacity = 1}, 50);
      setTimeout(function() {h3.style.opacity = 1}, 100);
      setTimeout(function() {a.style.opacity = 1}, 150);
    }, eTime)
  }
  function validate() {
    // set the value of the field into the array
    questions[position].value = inputField.value;
    // form values are held at array positions 0-2
    // like so: questions[0].value, etc.
    // check if the pattern matches
    if (!inputField.value.match(questions[position].pattern || /.+/)) wrong();
    else ok(function() {
      // set the progress of the background
      progress.style.width = ++position * 100 / questions.length + 'vw';
      // if there is a new question, hide current and load next
      if (questions[position]) hideCurrent(putQuestion);
      else hideCurrent(done);
    })
  }

  function hideCurrent(callback) {
    inputContainer.style.opacity = 0;
    inputProgress.style.transition = 'none';
    inputProgress.style.width = 0;
    setTimeout(callback, wTime);
  }

  function showCurrent(callback) {
    inputContainer.style.opacity = 1;
    inputProgress.style.transition = '';
    inputProgress.style.width = '100%';
    setTimeout(callback, wTime);
  }

  function transform(x, y) {
    register.style.transform = 'translate(' + x + 'px ,  ' + y + 'px)';
  }

  function ok(callback) {
    register.className = '';
    setTimeout(transform, tTime * 0, 0, 10);
    setTimeout(transform, tTime * 1, 0, 0);
    setTimeout(callback,  tTime * 2);
  }

  function wrong(callback) {
    register.className = 'wrong';
    for(var i = 0; i < 6; i++);
      setTimeout(transform, tTime * i, (i%2*2-1)*20, 0);
    setTimeout(transform, tTime * 6, 0, 0);
    setTimeout(callback,  tTime * 7);
  }
}())
    </script>
</body>
</html>